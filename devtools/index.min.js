!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t["redux-zero"]={})}(this,function(t){"use strict";var c={instance:null},f=[],r=10;function i(n,e){var i=JSON.parse(e.state),a=Object.keys(i.actionsById).filter(function(t){return parseInt(t,10)<=e.payload.id}),o=0;setTimeout(function t(){!function(e){if("initialState"===e.type)n.setState(i.computedStates[0].state);else{var t=f.find(function(t){return e.type===t.key});t&&t.fn()}}(i.actionsById[a[o]].action),++o>=a.length||setTimeout(t,r)},0)}function d(t,e){if(!e.initialized){var n=function(t){"DISPATCH"===t.type&&("JUMP_TO_ACTION"===t.payload.type||"JUMP_TO_STATE"===t.payload.type?this.setState(JSON.parse(t.state)):"TOGGLE_ACTION"===t.payload.type&&i(this,t))}.bind(t);c.instance.subscribe(n),e.initialized=!0}}var p=function(s){return function(r,u){return function(t){var e,n,i,a=r(t);d(s,p),e=t,n=function(){return r(t)},(i=f.find(function(t){return e.name===t.key}))||(i={key:e.name,fn:n},f.push(i));var o={type:t.name,args:u};return a&&a.then?a.then(function(){return c.instance.send(o,s.getState())}):(c.instance.send(o,s.getState()),a)}}};void 0!==window&&window.__REDUX_DEVTOOLS_EXTENSION__&&(t.connect=function(t){return c.instance=window.__REDUX_DEVTOOLS_EXTENSION__.connect(),c.instance.send("initialState",t),p}),Object.defineProperty(t,"__esModule",{value:!0})});
